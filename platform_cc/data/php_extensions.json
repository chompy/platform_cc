{
    "__default__" : [
        {
            "images" : [
                "registry.gitlab.com/contextualcode/platform_cc/php54-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php56-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php70-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php71-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php72-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php73-fpm"
            ],
            "command" : "docker-php-ext-install -j$(nproc) __EXT_NAME__"
        }
    ],
    "memcached" : [
        {
            "images" : [
                "registry.gitlab.com/contextualcode/platform_cc/php54-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php56-fpm"
            ],
            "command" : "apt-get install -y libmemcached-dev zlib1g-dev && yes '' | pecl install memcached-2.2.0 || true && docker-php-ext-enable memcached || true"
        },
        {
            "images" : [
                "registry.gitlab.com/contextualcode/platform_cc/php70-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php71-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php72-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php73-fpm"
            ],
            "command" : "apt-get install -y libmemcached-dev zlib1g-dev && yes '' | pecl install memcached || true && docker-php-ext-enable memcached || true"
        }
    ],
    "redis" : [
        {
            "images" : [
                "registry.gitlab.com/contextualcode/platform_cc/php54-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php56-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php70-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php71-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php72-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php73-fpm"
            ],
            "command" : "yes '' | pecl install redis || true && docker-php-ext-enable redis || true"
        }
    ],
    "imagick" : [
        {
            "images" : [
                "registry.gitlab.com/contextualcode/platform_cc/php54-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php56-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php70-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php71-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php72-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php73-fpm"
            ],
            "command" : "apt-get install -y imagemagick libmagickcore-dev libmagickwand-dev && yes '' | pecl install imagick || true && docker-php-ext-enable imagick || true"
        }
    ],
    "newrelic" : [
        {
            "images" : [
                "registry.gitlab.com/contextualcode/platform_cc/php54-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php56-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php70-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php71-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php72-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php73-fpm"
            ],
            "command": "cd /opt && curl -o nr.tar.gz https://download.newrelic.com/php_agent/archive/8.6.0.238/newrelic-php5-8.6.0.238-linux.tar.gz && tar xfz nr.tar.gz && cd newrelic* && NR_INSTALL_SILENT=1 ./newrelic-install install && cd .. && rm nr.tar.gz"
        }
    ],
    "xdebug" : [
        {
            "images" : [
                "registry.gitlab.com/contextualcode/platform_cc/php54-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php56-fpm"
            ],
            "command": "yes '' | pecl install xdebug-2.5.5 || true && docker-php-ext-enable xdebug || true"
        },
        {
            "images" : [
                "registry.gitlab.com/contextualcode/platform_cc/php70-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php71-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php72-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php73-fpm"
            ],
            "command": "yes '' | pecl install xdebug || true && docker-php-ext-enable xdebug || true"
        }
    ],
    "twig" : [
        {
            "images" : [
                "registry.gitlab.com/contextualcode/platform_cc/php54-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php56-fpm"
            ],
            "command": "pear channel-discover pear.twig-project.org && pear install twig/CTwig && docker-php-ext-enable twig || true"
        },
        {
            "images" : [
                "registry.gitlab.com/contextualcode/platform_cc/php70-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php71-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php72-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php73-fpm"
            ],
            "command": "true"
        }
    ],
    "igbinary" : [
        {
            "images" : [
                "registry.gitlab.com/contextualcode/platform_cc/php54-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php56-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php70-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php71-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php72-fpm",
                "registry.gitlab.com/contextualcode/platform_cc/php73-fpm"
            ],
            "command" : "yes '' | pecl install igbinary || true && docker-php-ext-enable igbinary || true"
        }
    ]
}
